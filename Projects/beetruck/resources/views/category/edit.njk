{% extends 'category.index' %}

{% block form %}

<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title">Sửa loại hàng: {{ category.name }}</h3>
    </div>
    {{ form.open({ action: 'CategoryController.update', params: { id: category.id } }) }}
    {{ csrfField }}
    <div class="box-body">
        {% if old('success') %}
        <div class="alert alert-success">
            Cập nhật thành công!
        </div>
        {% endif %}
        <div class="form-group {{ 'has-error' if (_.find(old('errors'), { field: 'name' })) else '' }}">
            {{ form.label('name', 'Tên chức vụ') }}
            {{ form.text('name', category.name, { class: 'form-control' }) }}
            <span class="help-block">{{ _.find(old('errors'), { field: 'name' }).message }}</span>
        </div>
        <div class="form-group {{ 'has-error' if (_.find(old('errors'), { field: 'description' })) else '' }}">
            {{ form.label('description', 'Mô tả') }}
            {{ form.textarea('description', category.description, { class: 'form-control' }) }}
            <span class="help-block">{{ _.find(old('errors'), { field: 'description' }).message }}</span>
        </div>
        <div class="form-group no-margin {{ 'has-error' if (_.find(old('errors'), { field: 'order' })) else '' }}">
            {{ form.label('order', 'Thứ tự') }}
            {{ form.text('order', category.order, { class: 'form-control', type: 'number' }) }}
            <span class="help-block">{{ _.find(old('errors'), { field: 'order' }).message }}</span>
        </div>
    </div>
    <div class="box-footer">
        {{ form.resetButton('Làm lại', 'reset', { class: 'btn btn-default btn-flat' }) }}
        {{ form.submit('Cập nhật', 'submit', { class: 'btn btn-primary btn-flat pull-right' }) }}
    </div>
    {{ form.close() }}
</div>

{% endblock %}